--Copyright (C) 2025  Starlight-CC
local fsOld = fs
os.CraftOSVersion = os.version
os.queueEventRaw = os.queueEvent

local fsHandshakeToken = {}

function os.pullEventRaw(sFilter)
    return coroutine.yield(sFilter)
end

function os.pullEvent(sFilter)
    local eventData = table.pack(os.pullEventRaw(sFilter))
    if eventData[1] == "terminate" then
        error("Terminated", 0)
    end
    return table.unpack(eventData, 1, eventData.n)
end

